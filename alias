alias l="ls -la"

# Cross-platform ls: prefer GNU coreutils (gls) if available; fallback to GNU or macOS flags
if command -v gls >/dev/null 2>&1; then
  alias ls="gls --group-directories-first --color=auto"
else
  if ls --version >/dev/null 2>&1; then
    alias ls="ls --group-directories-first --color=auto"
  else
    alias ls="ls -G"
  fi
fi

alias ll="ls -alF"
alias la="ls -A"
alias gst="git status"
git_current_branch() { git symbolic-ref --quiet --short HEAD 2>/dev/null || git rev-parse --short HEAD 2>/dev/null; }
git_main_branch() { git rev-parse --verify main >/dev/null 2>&1 && echo main || echo master; }
alias g="git"
alias ga="git add"
alias gaa="git add --all"
alias gapa="git add --patch"
alias gau="git add --update"
alias gav="git add --verbose"
alias gap="git apply"
alias gb="git branch"
alias gba="git branch -a"
alias gbd="git branch -d"
alias gbD="git branch -D"
alias gbnm="git branch --no-merged"
alias gbr="git branch --remote"
alias gbs="git bisect"
alias gbsb="git bisect bad"
alias gbsg="git bisect good"
alias gbsr="git bisect reset"
alias gbss="git bisect start"
alias gc="git commit -v"
alias gc!="git commit -v --amend"
alias gcn!="git commit -v --no-edit --amend"
alias gca="git commit -v -a"
alias gca!="git commit -v -a --amend"
alias gcan!="git commit -v -a --no-edit --amend"
alias gcsm="git commit -s -m"
alias gcam="git commit -a -m"
alias gcmsg="git commit -m"
alias gco="git checkout"
alias gcb="git checkout -b"
alias gcor="git checkout --recurse-submodules"
alias gcm="git checkout $(git_main_branch)"
alias gcd="git checkout develop"
alias gcl="git clone --recurse-submodules"
alias gclean="git clean -id"
alias gpristine="git reset --hard && git clean -dffx"
alias gcount="git shortlog -sn"
alias gcp="git cherry-pick"
alias gcpa="git cherry-pick --abort"
alias gcpc="git cherry-pick --continue"
alias gcs="git commit -S"
alias gd="git diff"
alias gdca="git diff --cached"
alias gds="git diff --staged"
alias gdw="git diff --word-diff"
alias gdt="git diff-tree --no-commit-id --name-only -r"
alias gf="git fetch"
alias gfa="git fetch --all --prune"
alias gfo="git fetch origin"
alias gl="git pull"
alias gpr="git pull --rebase"
alias ggpull='git pull origin $(git_current_branch)'
alias ggpur='git pull --rebase origin $(git_current_branch)'
alias glg="git log --stat"
alias glgp="git log --stat -p"
alias glgg="git log --graph"
alias glgga="git log --graph --decorate --all"
alias glo="git log --oneline --decorate"
alias glog="git log --oneline --decorate --graph"
alias gloga="git log --oneline --decorate --graph --all"
alias gm="git merge"
alias gmom='git merge origin/$(git_main_branch)'
alias gmum='git merge upstream/$(git_main_branch)'
alias gmt="git mergetool --no-prompt"
alias gmtvim="git mergetool --no-prompt --tool=vimdiff"
alias gp="git push"
alias gpd="git push --dry-run"
alias gpoat="git push origin --all && git push origin --tags"
alias ggpush='git push origin $(git_current_branch)'
alias ggsup='git branch --set-upstream-to=origin/$(git_current_branch)'
alias gpsup='git push --set-upstream origin $(git_current_branch)'
alias gpu="git push upstream"
alias gpv="git push -v"
alias gr="git remote"
alias gra="git remote add"
alias grv="git remote -v"
alias grup="git remote update"
alias grmv="git remote rename"
alias grrm="git remote remove"
alias grs="git restore"
alias grset="git remote set-url"
alias grt='cd $(git rev-parse --show-toplevel || echo ".")'
alias grh="git reset"
alias grhh="git reset --hard"
alias gru="git reset --"
alias grb="git rebase"
alias grba="git rebase --abort"
alias grbc="git rebase --continue"
alias grbi="git rebase -i"
alias grbm='git rebase $(git_main_branch)'
alias grbs="git rebase --skip"
alias gsh="git show"
alias gsi="git submodule init"
alias gsu="git submodule update"
alias gsta="git stash push"
alias gstaa="git stash apply"
alias gstc="git stash clear"
alias gstd="git stash drop"
alias gstl="git stash list"
alias gstp="git stash pop"
alias gsts="git stash show --text"
alias gsb="git status -sb"
alias gss="git status -s"
alias gsw="git switch"
alias gswc="git switch -c"
alias gts="git tag -s"
alias gtv='git tag | sort -V'
